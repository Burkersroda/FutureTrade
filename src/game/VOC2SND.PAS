USES DOS;
CONST erk:STRING[6]='SOUND'#$1A;
VAR s,t:FILE;b:ARRAY[1..32000]OF BYTE;w,m:WORD;
BEGIN
  ASSIGN(s,PARAMSTR(1));RESET(s,1);
  IF IORESULT<>0 THEN HALT;
  BLOCKREAD(s,b,25,w);
  IF w<25 THEN BEGIN CLOSE(s);HALT;END;
  BLOCKREAD(s,b,17,w);
  IF b[2]<>8 THEN BEGIN CLOSE(s);HALT;END;
  ASSIGN(t,PARAMSTR(2));REWRITE(t,1);
  IF IORESULT<>0 THEN BEGIN CLOSE(s);HALT;END;
  m:=256000000 DIV(65536-((LONGINT(b[6])+LONGINT(b[7])*256)));
  WRITELN(m);
  BLOCKWRITE(t,erk[1],6,w);BLOCKWRITE(t,m,2,w);BLOCKWRITE(t,b[9],1,w);
  WHILE w>0 DO BEGIN BLOCKREAD(s,b,16382,w);
    IF EOF(s) THEN b[w]:=128;
    BLOCKWRITE(t,b,w,w);
    IF w>0 THEN BLOCKREAD(s,b,16,m);
  END;
  CLOSE(s);CLOSE(t);
END.